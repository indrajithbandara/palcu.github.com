---
layout: post
title: Automate everything... even opening your dev apps
date: '2014-02-16T12:51:00.000+02:00'
author: Alex Palcuie
tags:
- automation
- hacking
modified_time: '2014-04-06T00:26:20.571+03:00'
thumbnail: http://2.bp.blogspot.com/-tBswMBVY02k/Uv-1LjKELxI/AAAAAAAAFxs/EieUNzsdp9U/s72-c/automation.png
blogger_id: tag:blogger.com,1999:blog-4563358888205449053.post-3856983636758910957
blogger_orig_url: http://palcu.blogspot.com/2014/02/automate-everything-even-opening-your.html
---

Do you hate coming at the office, opening your text editor, looking over the Github issues, seeing a bug you can easily fix and bang... you forgot to open Vagrant. So, you type like a robot <i>vagrant up</i>, you wait 90 seconds for the beast to load and bang... you forgot to connect to the VPN and Puppet cannot sync your packages. <br /><br />You code the whole day at work, pack your things, arrive home, start browsing threads on Hacker News and bang... you have low battery because you forgot to close Vagrant. Damn the technology stack is too big to fit my tiny brain cache. Well, for those of you on OSX, I made <a href="https://github.com/palcu/dotfiles/tree/master/applescripts">some tiny little AppleScripts</a> that solve these annoying little pesky problems.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-tBswMBVY02k/Uv-1LjKELxI/AAAAAAAAFxs/EieUNzsdp9U/s1600/automation.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://2.bp.blogspot.com/-tBswMBVY02k/Uv-1LjKELxI/AAAAAAAAFxs/EieUNzsdp9U/s1600/automation.png" height="320" width="318" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><a href="https://xkcd.com/1319/">https://xkcd.com/1319/</a></td></tr></tbody></table><br /><a name='more'></a>The before work script contains two parts: one for opening a list of apps found in <i>apps.txt</i> and another other one for running your custom scripts:<br /><pre class="brush: applescript">set current_path to POSIX path of ((path to me as text) &amp; "::")<br />-- get work apps<br />set appList to {}<br />set myApps to paragraphs of (read current_path &amp; "apps.txt")<br />repeat with nextLine in myApps<br /> if length of nextLine is greater than 0 then<br />  copy (nextLine as string) to the end of appList<br /> end if<br />end repeat<br /><br />-- open work apps<br />repeat with i in appList<br /> tell application i to activate<br />end repeat<br /><br />-- run other scripts from folder<br />set scriptList to {"connect_tunnelblick", "open_vagrant", "open_chrome_tabs"}<br />repeat with i in scriptList<br /> run script current_path &amp; i &amp; ".applescript"<br />end repeat<br /></pre>The <i>open_vagrant</i>&nbsp;script just opens an iTerm session and runs a <i>vagrant up</i>&nbsp;command:<br /><pre class="brush: applescript">set open_vagrant to "z puppet; vagrant up;"<br /><br />tell application "iTerm"<br /> activate<br /> try<br />  set mysession to current session of current terminal<br /> on error<br />  set myterm to (make new terminal)<br />  tell myterm<br />   launch session "Default"<br />   set mysession to current session<br />  end tell<br /> end try<br /> <br /> tell mysession<br />  write text open_vagrant<br /> end tell<br />end tell<br /></pre>AppleScript is a pretty funny language to code in. However neither Linux, nor Windows have a similar equivalent, making the Mac a hacker friendly environment. Unfortunately, I think it is rough on some edges: for closing iTerm, I had to first ignore the system events, then issue the exit for the app, catch system events and finally press enter. <br /><pre class="brush: applescript">set close_vagrant to "z puppet; vagrant halt -f;"<br /><br />-- close vagrant<br />tell application "iTerm"<br /> activate<br /> set myterm to (make new terminal)<br /> tell myterm<br />  launch session "Default"<br />  set mysession to current session<br /> end tell<br /> <br /> tell mysession<br />  write text close_vagrant<br /> end tell<br /> <br /> delay 5<br />end tell<br /><br />-- quit iTerm<br />ignoring application responses<br /> tell application "iTerm"<br />  quit<br /> end tell<br />end ignoring<br /><br />delay 2<br />tell application "System Events" to keystroke return<br /></pre>Is it worth the time? XKCD has the answer: <br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-NDzw-RnHjl8/UwCfeCf8O7I/AAAAAAAAFx8/A1iakMZNqiA/s1600/is_it_worth_the_time.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-NDzw-RnHjl8/UwCfeCf8O7I/AAAAAAAAFx8/A1iakMZNqiA/s1600/is_it_worth_the_time.png" height="521" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><a href="http://xkcd.com/1205/">http://xkcd.com/1205/</a></td></tr></tbody></table><br />Given that I do these things daily and I may save between 1 and 5 minutes per day, then I save between 1 and 6 days per 5 years. It doesn't look too much, but given that time is <a href="http://www.quora.com/What-are-some-important-and-generalizable-life-lessons/answer/Yishan-Wong">highly, uniquely and equitably limited</a>, we should strive doing our best in squashing annoying things that chop it.  <iframe allowfullscreen="" frameborder="0" height="315" src="//www.youtube.com/embed/BOksW_NabEk" width="560"></iframe>
<p>Update: got a tip on <a href="https://www.facebook.com/palcuiealex/posts/10201097721599776?stream_ref=10">Facebook</a> about <a href="https://github.com/tmuxinator/tmuxinator">Tmuxinator</a> which automates opening programs in your terminal. Also, put the scripts somewhere searchable by Spotlight so you can launch them easily, or use my <a href="https://www.dropbox.com/s/2los6wcqaqyxywn/ubervu_applescripts.alfredworkflow">Alfred workflow</a>.</p>
